{"version":3,"sources":["auth/AuthContext.js","types/types.js","auth/authReducer.js","routes/PublicRoute.js","components/Login/LoginScreen.jsx","hooks/useForm.js","routes/PrivateRoute.js","routes/AppRouter.jsx","App.jsx","index.js"],"names":["AuthContext","createContext","types","authReducer","state","action","type","payload","logged","PublicRoute","isAuthenticated","Component","component","redirect","rest","props","to","LoginScreen","initialState","useState","values","setvalues","target","name","value","useForm","formValues","handleInputChange","console","log","className","src","alt","onSubmit","placeholder","autoComplete","autoFocus","maxLength","minLength","onChange","PrivateRoute","localStorage","setItem","location","pathname","AppRouter","user","useContext","path","init","JSON","parse","getItem","App","useReducer","dispatch","useEffect","stringify","Provider","ReactDOM","render","document","getElementById"],"mappings":"6LAEaA,EAAcC,0B,OCFdC,EACJ,eADIA,EAEH,gBCAGC,EAAc,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCACjD,OAAQA,EAAOC,MACb,KAAKJ,EACH,OAAO,2BACFG,EAAOE,SADZ,IAEEC,QAAQ,IAEZ,KAAKN,EACH,MAAO,CACLM,QAAQ,GAGZ,QACE,OAAOJ,I,uBCXAK,EAAc,SAAC,GAKrB,IAJLC,EAII,EAJJA,gBACWC,EAGP,EAHJC,UACAC,EAEI,EAFJA,SACGC,EACC,0DACJ,OACE,cAAC,IAAD,2BACMA,GADN,IAEEF,UAAW,SAACG,GAAD,OACRL,EAA6C,cAAC,IAAD,CAAUM,GAAIH,IAAzC,cAACF,EAAD,eAAeI,S,QCV7BE,EAAc,WAAO,IAAD,ECFV,WAAwB,IAAvBC,EAAsB,uDAAP,GAAO,EAChBC,mBAASD,GADO,mBACrCE,EADqC,KAC7BC,EAD6B,KAc5C,MAAO,CAACD,EAPkB,SAAC,GAAgB,IAAdE,EAAa,EAAbA,OAC3BD,EAAU,2BACLD,GADI,kBAENE,EAAOC,KAAOD,EAAOE,UAPZ,WACZH,EAAUH,KDDmCO,GADhB,mBACxBC,EADwB,KACZC,EADY,UAG/BC,QAAQC,IAAIH,GAIZ,OACE,qBAAKI,UAAU,cAAf,SACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKC,IAAI,8BAA8BC,IAAI,gBAE7C,iDACA,mDACA,uBAAMF,UAAU,kBAAkBG,SAVnB,aAUf,UACE,uBACE3B,KAAK,OACL4B,YAAY,UACZJ,UAAU,4BACVK,aAAa,MACbZ,KAAK,YACLa,UAAU,KACVC,UAAU,KACVC,UAAU,IACVC,SAAUZ,IAEZ,uBACEG,UAAU,gCACVI,YAAY,gBACZX,KAAK,eACLc,UAAU,KACVC,UAAU,IACVhC,KAAK,WACLiC,SAAUZ,IAEZ,wBAAQG,UAAU,0BAA0BxB,KAAK,SAAjD,+BEpCGkC,EAAe,SAAC,GAKtB,IAJL9B,EAII,EAJJA,gBACWC,EAGP,EAHJC,UACAC,EAEI,EAFJA,SACGC,EACC,0DAEJ,OADA2B,aAAaC,QAAQ,WAAY5B,EAAK6B,SAASC,UAE7C,cAAC,IAAD,2BACM9B,GADN,IAEEF,UAAW,SAACG,GAAD,OACTL,EAAkB,cAACC,EAAD,eAAeI,IAAY,cAAC,IAAD,CAAUC,GAAIH,SCPtDgC,EAAY,WAAO,IACtBC,EAASC,qBAAW/C,GAApB8C,KACR,OACE,cAAC,IAAD,UACE,8BACE,eAAC,IAAD,WACE,cAAC,EAAD,CACEpC,gBAAiBoC,EAAKtC,OACtBwC,KAAK,SACLnC,SAAS,IACTD,UAAWK,IAEb,cAAC,EAAD,CACEP,gBAAiBoC,EAAKtC,OACtBwC,KAAK,IACLnC,SAAS,SACTD,UAAWK,YClBjBgC,EAAO,WACX,OAAOC,KAAKC,MAAMV,aAAaW,QAAQ,UAAY,CAAE5C,QAAQ,IAGlD6C,EAAM,WAAO,IAAD,EACEC,qBAAWnD,EAAa,GAAI8C,GAD9B,mBAChBH,EADgB,KACVS,EADU,KAOvB,OAJAC,qBAAU,WACRf,aAAaC,QAAQ,OAAQQ,KAAKO,UAAUX,MAC3C,CAACA,IAGF,cAAC9C,EAAY0D,SAAb,CAAsBlC,MAAO,CAAEsB,OAAMS,YAArC,SACE,cAAC,EAAD,O,MCbNI,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.394fbb4a.chunk.js","sourcesContent":["import { createContext } from \"react\"\r\n\r\nexport const AuthContext = createContext()\r\n","export const types = {\r\n  login: \"[auth] login\",\r\n  logout: \"[auth] logout\",\r\n}\r\n","import { types } from \"../types/types\"\r\n\r\nexport const authReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case types.login:\r\n      return {\r\n        ...action.payload,\r\n        logged: true,\r\n      }\r\n    case types.logout:\r\n      return {\r\n        logged: false,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import React from \"react\"\r\nimport { Redirect, Route } from \"react-router-dom\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nexport const PublicRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  redirect,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        !isAuthenticated ? <Component {...props} /> : <Redirect to={redirect} />\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nPublicRoute.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n}\r\n","import React from \"react\"\r\n\r\nimport { useForm } from \"../../hooks/useForm\"\r\n\r\nexport const LoginScreen = () => {\r\n  const [formValues, handleInputChange, reset] = useForm()\r\n\r\n  console.log(formValues)\r\n\r\n  const handleSubmit = () => {}\r\n\r\n  return (\r\n    <div className=\"login__main\">\r\n      <div className=\"login__box-content\">\r\n        <div className=\"login__box-img\">\r\n          <img src=\"assets/icons/icon-login.svg\" alt=\"Logo Vote\" />\r\n        </div>\r\n        <h2>Elecciones 2021</h2>\r\n        <h3>Sistema de conteo</h3>\r\n        <form className=\"login__box-form\" onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Usuario\"\r\n            className=\"login__box-form__userName\"\r\n            autoComplete=\"off\"\r\n            name=\"userLogin\"\r\n            autoFocus=\"on\"\r\n            maxLength=\"50\"\r\n            minLength=\"2\"\r\n            onChange={handleInputChange}\r\n          />\r\n          <input\r\n            className=\"login__box-form__userPassword\"\r\n            placeholder=\"ContraseÃ±a\"\r\n            name=\"userPassword\"\r\n            maxLength=\"50\"\r\n            minLength=\"2\"\r\n            type=\"password\"\r\n            onChange={handleInputChange}\r\n          />\r\n          <button className=\"login__box-form__submit\" type=\"submit\">\r\n            Ingresar\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from \"react\"\r\n\r\nexport const useForm = (initialState = {}) => {\r\n  const [values, setvalues] = useState(initialState)\r\n\r\n  const reset = () => {\r\n    setvalues(initialState)\r\n  }\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setvalues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    })\r\n  }\r\n\r\n  return [values, handleInputChange, reset]\r\n}\r\n","import React from \"react\"\r\nimport { Redirect, Route } from \"react-router-dom\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nexport const PrivateRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  redirect,\r\n  ...rest\r\n}) => {\r\n  localStorage.setItem(\"lastPath\", rest.location.pathname)\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        isAuthenticated ? <Component {...props} /> : <Redirect to={redirect} />\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n}\r\n","import React, { useContext } from \"react\"\r\nimport { BrowserRouter as Router, Switch } from \"react-router-dom\"\r\n\r\nimport { PublicRoute } from \"../routes/PublicRoute\"\r\nimport { AuthContext } from \"../auth/AuthContext\"\r\nimport { LoginScreen } from \"../components/Login/LoginScreen\"\r\nimport { PrivateRoute } from \"./PrivateRoute\"\r\n\r\nexport const AppRouter = () => {\r\n  const { user } = useContext(AuthContext)\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n          <PublicRoute\r\n            isAuthenticated={user.logged}\r\n            path=\"/login\"\r\n            redirect=\"/\"\r\n            component={LoginScreen}\r\n          />\r\n          <PrivateRoute\r\n            isAuthenticated={user.logged}\r\n            path=\"/\"\r\n            redirect=\"/login\"\r\n            component={LoginScreen}\r\n          />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n","import React, { useEffect, useReducer } from \"react\"\r\n\r\nimport { AuthContext } from \"./auth/AuthContext\"\r\nimport { authReducer } from \"./auth/authReducer\"\r\nimport { AppRouter } from \"./routes/AppRouter\"\r\n\r\nconst init = () => {\r\n  return JSON.parse(localStorage.getItem(\"user\")) || { logged: false }\r\n}\r\n\r\nexport const App = () => {\r\n  const [user, dispatch] = useReducer(authReducer, {}, init)\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(user))\r\n  }, [user])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, dispatch }}>\r\n      <AppRouter />\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport { App } from \"./App\"\nimport \"./styles/styles.scss\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}